
/dts-v1/;
#include <dt-bindings/gpio/tegra194-gpio.h>
#include "tegra194-xavier-nx-cti-base.dtsi"
#include <dt-bindings/pinctrl/pinctrl-tegra.h>
/ {
	nvidia,dtsfilename = "tegra194-xavier-nx-cti-NGX012.dts";

pinmux@2430000 {

pinmux_default: common {
    uart1_tx_pr2 {
				nvidia,pins = "uart1_tx_pr2";
				nvidia,function = "uarta";
				nvidia,pull = <TEGRA_PIN_PULL_NONE>;
				nvidia,tristate = <TEGRA_PIN_DISABLE>;
				nvidia,enable-input = <TEGRA_PIN_DISABLE>;
				nvidia,io-high-voltage = <TEGRA_PIN_DISABLE>;
				nvidia,lpdr = <TEGRA_PIN_DISABLE>;
			};

			uart1_rx_pr3 {
				nvidia,pins = "uart1_rx_pr3";
				nvidia,function = "uarta";
				nvidia,pull = <TEGRA_PIN_PULL_DOWN>;
				nvidia,tristate = <TEGRA_PIN_ENABLE>;
				nvidia,enable-input = <TEGRA_PIN_ENABLE>;
				nvidia,io-high-voltage = <TEGRA_PIN_DISABLE>;
				nvidia,lpdr = <TEGRA_PIN_DISABLE>;
			};

			uart1_rts_pr4 {
				nvidia,pins = "uart1_rts_pr4";
				nvidia,function = "uarta";
				nvidia,pull = <TEGRA_PIN_PULL_DOWN>;
				nvidia,tristate = <TEGRA_PIN_DISABLE>;
				nvidia,enable-input = <TEGRA_PIN_ENABLE>;
				nvidia,lpdr = <TEGRA_PIN_DISABLE>;
			};

			uart1_cts_pr5 {
				nvidia,pins = "uart1_cts_pr5";
				nvidia,function = "uarta";
				nvidia,pull = <TEGRA_PIN_PULL_DOWN>;
				nvidia,tristate = <TEGRA_PIN_DISABLE>;
				nvidia,enable-input = <TEGRA_PIN_ENABLE>;
				nvidia,lpdr = <TEGRA_PIN_DISABLE>;
			};
};
};

    i2c@31e0000{
        status = "okay";
    };
	
	spi@3230000{
		status = "disabled";
	};

    spi@3210000{/*SPI1*/
        status = "okay";
        compatible = "nvidia,tegra186-spi";
        spi@0 {
            compatible = "tegra-spidev";
            reg = <0x0>;
            spi-max-frequency = <65000000>;
                controller-data{
                nvidia,enable-hw-based-cs;
            };
        };
    };
//Note USB3 P1 is only on ORIN-NX regular nx variety will only have 1 usb!
    fixed-regulators{
        cti_hadron_vbus1: regulator@201 {            
            compatible = "regulator-fixed";
            reg=<201>;
            regulator-name = "cti-hadron-vbus1";
            regulator-min-microvolt = <5000000>;
            regulator-max-microvolt = <5000000>;
            gpio = <&tegra_main_gpio TEGRA194_MAIN_GPIO(Q, 3) 0>; 
            enable-active-high;
            regulator-boot-on;
            regulator-always-on;
        };
        cti_hadron_vbus2: regulator@202 {
            compatible = "regulator-fixed";
            reg=<202>;
            regulator-name = "cti-hadron-vbus2";
            regulator-min-microvolt = <5000000>;
            regulator-max-microvolt = <5000000>;
            gpio = <&tegra_aon_gpio TEGRA194_AON_GPIO(CC, 2) 0>;
            enable-active-high;
            regulator-boot-on;
            regulator-always-on;
        };

    };
	
	xusb_padctl@3520000{
            status = "okay";

        pads {
            usb2 {
                lanes {
                    usb2-0 {
                        nvidia,function = "xusb";
                        vbus-supply = <&cti_hadron_vbus1>;
                        status = "okay";
                    };
                    usb2-1 {
                        nvidia,function = "xusb";
                        vbus-supply = <&cti_hadron_vbus2>;
                        status = "okay";
                    };
                    usb2-2 {
                        nvidia,function = "xusb";
                        status = "okay";
                    };
                };
            };
            usb3 {
                lanes {
				      usb3-2 {
                        nvidia,function = "xusb";
                        status = "okay";
                    };
                };
            };
        };

        ports {
			usb2-0 {
				mode = "otg";
				status = "okay";
				usb-role-switch;
				connector {
					compatible = "usb-b-connector", "gpio-usb-b-connector";
		            label = "micro-USB";
                    type = "micro";
                    vbus-gpios = <&tegra_main_gpio TEGRA194_MAIN_GPIO(Z, 1) GPIO_ACTIVE_HIGH>;
					id-gpios = <&tegra_main_gpio TEGRA194_MAIN_GPIO(Q, 1) GPIO_ACTIVE_HIGH>;
				};
			};
            usb2-1 {
                mode = "host";
                status = "okay";
            };
            usb2-2 {
                mode = "host";
                vbus-supply = <&battery_reg>;
                status = "okay";
            };
            usb3-2 {
                nvidia,usb2-companion = <0>;
                status = "okay";
            };
        };

};

	tegra_xudc: xudc@3550000 {
		phys = <&{/xusb_padctl@3520000/pads/usb2/lanes/usb2-0}>,
				<&{/xusb_padctl@3520000/pads/usb3/lanes/usb3-2}>;
		phy-names = "usb2-0" ,"usb3-2";
		nvidia,xusb-padctl = <&xusb_padctl>;
		nvidia,boost_cpu_freq = <1200>;
		status = "okay";
	};

	tegra_xhci: xhci@3610000 {
		phys = <&{/xusb_padctl@3520000/pads/usb2/lanes/usb2-0}>,
			<&{/xusb_padctl@3520000/pads/usb2/lanes/usb2-1}>,
			<&{/xusb_padctl@3520000/pads/usb2/lanes/usb2-2}>,
			<&{/xusb_padctl@3520000/pads/usb3/lanes/usb3-2}>;
		phy-names = "usb2-0", "usb2-1", "usb2-2", "usb3-2";
		nvidia,xusb-padctl = <&xusb_padctl>;
		status = "okay";
	};
};



//sor0
&head1 {
    status = "disabled";
};

//sor1
&head2 {
    status = "disabled";
};

&sor0 {
    status = "disabled";
    nvidia,active-panel = <&sor0_hdmi_display>;
};

&sor0_hdmi_display {
    status = "disabled";
};

&sor0_dp_display {
	status = "disabled";
};

&dpaux0 {
    status = "disabled";
};

&sor1 {
    status = "disabled";
    nvidia,active-panel = <&sor1_hdmi_display>;
};

&sor1_hdmi_display {
    status = "disabled";
};

&dpaux1 {
    status = "disabled";
};

//Note disabled tegra_cec causes i2c-8 to fail!
